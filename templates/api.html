{% extends "layout.html" %}

{% block title %}Pet Health - API{% endblock %}

{% block content %}
<div class="api-container">
    <h1>Pet Health API</h1>
    
    <div class="api-section">
        <h2>API Overview</h2>
        <p>The Pet Health API allows developers to integrate our pet information retrieval system into their own applications. The API provides access to the same knowledge base and AI capabilities that power the web interface.</p>
    </div>
    
    <div class="api-section">
        <h2>Endpoint</h2>
        <div class="code-block">
            <code>POST /api/chat</code>
        </div>
        <p>This endpoint accepts chat messages and returns AI-generated responses based on our pet health knowledge database.</p>
    </div>
    
    <div class="api-section">
        <h2>Request Format</h2>
        <div class="code-block">
<pre><code>{
  "message": "String containing the user's question",
  "history": [
    {
      "role": "user" | "assistant",
      "content": "Message content"
    },
    ...
  ]
}</code></pre>
        </div>
        <p>The <code>history</code> array is optional and can be used to provide conversation context.</p>
    </div>
    
    <div class="api-section">
        <h2>Response Format</h2>
        <div class="code-block">
<pre><code>{
  "response": "AI-generated response to the user's question",
  "context": "Reference information used to generate the response"
}</code></pre>
        </div>
    </div>
    
    <div class="api-section">
        <h2>Example</h2>
        <h3>Request:</h3>
        <div class="code-block">
<pre><code>curl -X POST https://your-domain.com/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "ChÃ³ con cá»§a tÃ´i bá»‹ ho, tÃ´i nÃªn lÃ m gÃ¬?",
    "history": []
  }'</code></pre>
        </div>
        
        <h3>Response:</h3>
        <div class="code-block">
<pre><code>{
  "response": "ğŸ¶ TÃªn bá»‡nh: ViÃªm Ä‘Æ°á»ng hÃ´ háº¥p trÃªn\n\nğŸ“ Vá»‹ trÃ­: ÄÆ°á»ng hÃ´ háº¥p, cá»• há»ng, phá»•i\n\nğŸ‘€ Biá»ƒu hiá»‡n: Ho, háº¯t hÆ¡i, sá»• mÅ©i, cháº£y nÆ°á»›c máº¯t...",
  "context": "Khi chÃ³ bá»‹ ho, cÃ³ thá»ƒ do nhiá»u nguyÃªn nhÃ¢n khÃ¡c nhau nhÆ° viÃªm Ä‘Æ°á»ng hÃ´ háº¥p, dá»‹ váº­t, bá»‡nh tim...\nNguá»“n: petmart.vn\nTiÃªu Ä‘á»: ChÃ³ bá»‹ ho pháº£i lÃ m sao?"
}</code></pre>
        </div>
    </div>
    
    <div class="api-section">
        <h2>Rate Limits</h2>
        <p>The API is currently limited to 100 requests per hour per API key. Please contact us if you need higher limits for your application.</p>
    </div>
    
    <div class="api-section">
        <h2>Getting Access</h2>
        <p>To get access to the API, please fill out the form on our <a href="{{ url_for('contact') }}">Contact page</a>. We'll review your request and provide you with an API key if approved.</p>
    </div>
</div>
{% endblock %}
